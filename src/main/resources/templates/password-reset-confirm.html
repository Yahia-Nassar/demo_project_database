<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Password Reset Requested</title>
    <link rel="stylesheet" href="/css/styles.css" />
</head>
<body>
<div class="auth-card">
    <h2>Check your inbox</h2>
    <p class="notice">
        If an account exists for <strong th:text="${email}"></strong>, a reset link has been generated.
    </p>

    <div th:if="${token}">
        <p class="notice">
            Demo token (in-app): <span class="mono" th:text="${token}"></span>
        </p>
        <div class="auth-links">
            <a th:href="@{/password-reset/{token}(token=${token})}">Open reset form</a>
            <button type="button" class="btn-secondary" id="copy-token" th:data-token="${token}">
                Copy token
            </button>
        </div>
    </div>

    <div class="auth-links">
        <a th:href="@{/login}">Back to login</a>
    </div>
</div>

<script>
    const copyButton = document.getElementById('copy-token');
    if (copyButton) {
        copyButton.addEventListener('click', async () => {
            const token = copyButton.dataset.token;
            await navigator.clipboard.writeText(token);
            copyButton.textContent = 'Copied!';
        });
    }
</script>
</body>
</html>